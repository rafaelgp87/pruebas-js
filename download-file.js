$('#descargarArchivo').click(function () {

  var archivo = "0x89504E470D0A1A0A0000000D494844520000010E00000064080600000077A9DE2D00000B0C49444154785EED9D4D6C234915C7AB6327990C3B62411BED984C6C7749CC1124D0EE09A495B822ED05AE9C3871427CDCE10C0209694F1CF786D8D372E480C40D1087BDED4869DB71A2F168C32005E2899DB6839E712DB54D77BBAAFBB5DDD5F5CF65B393EAEAAADF7BF5F77BF5E540E007044000042C090496E5511C044000040484034E000220604D00C2618D0C0F8000084038E003200002D604201CD6C8F00008800084033E000220604D00C2618D0C0F8000084038E003200002D604201CD6C8F00008800084033E000220604D00C2618D0C0F80000840382AF281300C9754F56030D8ABE815A81604764600C2C18CFEF4F474B6BFBF7FA0AA5D2E97CBE170D8627E0DAA03819D12807030E1EFF57AF1DEDEDE5E10049F328DA2087C99F8A29A7A1180635BDA43A520EA315D28D4BFDDDFDFDF2345B1048BE24E118070189A2B9982E82241BF2B014194610814C59C2600E130301F451969C2A08B09A20C039028D21802108E0DA6ECF7FB0B9ABB480A43969834C633D01110C82100E1D8E01E524AD28CCFCC5928D1409481B1E52B0108478EE54934E8CFFABC0544C3D7A1827EEB04201C19FEA004623E9FCF2F2E2E0EA95856DA02970201DF084038522CFEE4C993D9C1C1C1819E8A40347C1B1AE86F1E0108470A9D648AD2ED76E376BBDDC29C06061308FC97008423E1092A4551F31A6AC915A281210302FF2300E1D0BC41A523EA7CC9A3478FFE727C7CFC567282140E0402BE138070681E905C7A4D5B55F1DD61D07F1040AA92100D3DB28068608080403601441C4288E4D22B440343869B8094F26514455FE4AE7757F5792F1CC9A55788C6AE5CB1B9EF95524E8510474110FCFDECECECEB4DE8A9F7C2A10B858A3C6E6E6EFEFDE2C58B474D3030FAB05B02CAA79A241ADECF71E84BAFEAF7388EEFCECFCF3FBDC16BB76E87B73B4CE0B194F239B5FFFEFEFE7630181C39DC97FF6BBAB71187BEF44A47E6E967B1582C46A3517B938149645CBCA8C7D5766FB247DDFE1E86E16510045F5A4FB677841093BAB5B16C7BBC150EB5F4BA0ABB822030BD1B544526A6E5CB1A88EB7957DBCDD5FF6DD51386E1220802BAA07A1645D1836DBD77DBEFF15238D4BC064518AD56CB742BF97B52CA1F28034DA7D3EBC964F2F96D1BACC8FB201A45A8D93D23A5FC9D10E2BBEBA77E1F4591FADDAE22474A7B271CFAD26BF2205B96CD545A437FA748832EF671E58A408846F52351BB6A8152582F6EB4F74A38F4A557D33B4293F76F24CFB254EF96C5DFA0222BD7D2AAE23DDEEE9352CA4F84106FAC27405F0D068387DB6DC1EEDEE69570A8814407D64838F2A206FABA034A63C834FAA469DA8D60BB335FFA9BBBDDEE5DBBDD5E4DF2FA281A554F024B29FF2884F8D65A301683C160E3847ADD7CA46C7BBC110E3D7220D188E3383E3F3FDF4F039877CB1709479D07A37E17EAF5F5F55FAFAEAEDE2EEB242E3D5FE50D6D4F9F3EFD461CC77F5E0B065D2749D1C64B97F870B5D50BE1D0975E697E226BE0EBB796A795519FE4759DDFA872D070395C55F5E882A90D6CB6AFDFD4564BA8FA0FA228FA4E557D71A15E2F8443A517146964DDAB61726B795DE7371E3F7EFCF2E1C3875FF03135D1EDA66CCB994E4A296F84106AEEE2791445ABFD19BEFF345E38D4BC863274325AB0F96E144E87E4723C13C1E37A579DEA49130CD53E0E3B49299F0921BEBCAEB3D17B328AD8B5D1C2910C5F93A2613BE8C821F3E6468A18A0C8339432A9895B1545513D2EEE66B5ED7F9E607008471886BF0882E02755A43BB67DAD73F9C60A4772E9358AA29F0B217E46C6B0893294F1D43CC92EE6374E4E4E5E1C1C1C1CA77D4FADEE5C4DBEDED04430CA0A47E283E6C75114FDAACE8377976D6BAC70E8298ABE9C6A1B65E8CE48BF6F4B38F44D67AA0D240CF47B9680345538F4657493A8CA36554908C64751147D759783D28577375238D23E9D8A4419BA016D9DD1D6F82414EAB05D4A14F14321C46FD20650AFD7A3AFA85C3D3A9BCD6E2E2F2F5FB37D775DCBF7FBFDDBBDBDBDD577DAB4DBED5F3F7BF6EC47266DB5B1551886B4A7874EB07EE6DBFA4CDEE37399C60987FE49AD9CA16894A11CA3DBEDCEDBEDF63E77B4919C835179351DED1F8FC7AB01433FFA66B4BBBBBBB9FEB7A63A6F99A56553E1D084F8FDC160F0BDA6B2ACA25F8D130E3D45A1815EC60115F02A9661F5E881F68C641DE7E7687FD2714E4F4F07ED76BB97E75094DE656D90ABC21193ACE9FF8B6EB4DB64AF300C3F0C82E0DBDB4C3DAB64B68BBA1B251C49D1D04FC19ADCB3916500D34F3013039E9C9C4C0E0F0FDFA4B2777777B7E3F138F582173DCA283A80F4F664A542796DDEE60A92CDE4A709E72C9B4929FF2984781DA98909C5EC328D110EDDF16E6F6F5F3D78F060352039427B7242D34B7EF2CCA1A75179694FD928432DD7A64DA2D28089E378341E8FC3BCB6AA362C168BD96834AAE45E097D7E46A56926939F262E1F86E16D1004876A42593DB35EBEF6F27C890937D3328D100EB5F4AAC25BDA56BE0E437F2984F8A9298CB4725CCBB02662903CBE3F1C0E371ED1EE743A7F3A3C3CFC66C6C4EA6A3CC671FC6A3C1E7FCE9683DE66F5EC7A20C642888F87C3E1574CEBECF7FB7F0B82E06B543E2968557DFAA7CD21054170757676766CDA6E944B27D008E1489E7AE5CC5D37E5CBA68E95E6C4EA53561F4CC94FC8ACFAB3A289BCF912D3B6EAE5B2DA6D52973A859C2C4BFFBE5C2EAF47A3D1EB26F5A04CFD08382F1CFAA7A2E91D1B3666E09CDF50EFCD4B254CDB46838F7E86C3E1BB42883F983EC75CEE9D5EAFF7BE10A29316F1A85DADEB766E8C9E98DB86EA2A24E0B470E85F089D7780AD28BF4EA7F3AFA3A3A3D7AEAFAF3FBABABA62DD14A4967855D4C195DB17ED2B9E03011B024E0B87BE8A52459ECC95A6240D52765F898D81511604AA20E0AC70542D1A049B3B4D2932F95985D15127089425E0A4706C4334947070ECA1A0BA4C5655CA1A13CF83C0B60838271C7A98CF35A8D360AB0D5865B799EBEDE5D80BB22DC7C07B40208F8053C2C1BDBB300F4CD9F98D4EA7F38FA3A3A3D5B7935731FF02B706815D1270463892FB09CA46029BA09799DFD0DB3A9D4E9F4F26135C37B70938FEEE1401278423B957A3CA14656DBDEF4B297F3B9FCF6717171756DBAD6DEF8E70CA5BD058105813A8BD7054BDC12BCD138AA42974EEA2D56AADB6BA4FA7D3F16432E9C2CB40A0A9046A2F1C049E9631E9BF740665369BDD5E5E5EA69E28E532926D9A8215132EF2A8C715024E0807C1B41DCC650C60F32E959A6C217D2AD3253C0B02AC049C108E22A943194A26C291484D2E2693C9699977E2591070898013C261329039A16F7A1F52134EDAA8CB4502B5178E6D471B9BD222A4262EBA39DACC4DA0F6C2410375DBF30769110752136ED7437D2E13A8B570EC22DA48461CB4F59C5673AA38B6EFB2E3A0ED7E13A8B5706C9A6BA8CA74FA213AF58E6D473D55F50DF582000781DA0A07D75D9F4520D1253BAD56ABBD5C2EEF47A3116EAE2A0211CF349A406D856357D146A3AD8DCE810013815A0A87BA56AFC85911262EA80604402087402D85635793A2F0141000013302B5140E6A3ACD71987CAF885937510A04408093406D8583B393A80B0440809700848397276A03012F084038BC30333A0902BC04201CBC3C511B08784100C2E18599D14910E02500E1E0E589DA40C00B02100E2FCC8C4E82002F0108072F4FD406025E108070786166741204780940387879A23610F0820084C30B33A39320C04B00C2C1CB13B581801704201C5E98199D04015E02100E5E9EA80D04BC2000E1F0C2CCE82408F0128070F0F2446D20E0050108871766462741809700848397276A03012F084038BC30333A0902BC04201CBC3C511B08784100C2E18599D14910E02500E1E0E589DA40C00B02100E2FCC8C4E82002F0108072F4FD406025E1080707861667412047809FC07B23596BFE200E5B80000000049454E44AE426082"

  function limpiarHexadecimal(file, remove_0x) {
    file = file.toUpperCase();

    if (remove_0x) {
      file = file.replace(/0x/gi, "");
    }

    var orig_file = file;
    file = file.replace(/[^A-Fa-f0-9]/g, "");
    
    if (orig_file != file) {
      console.log("Los caracteres no hexadecimales (incluyendo saltos de l√≠nea) en la cadena de entrada.");
    }
      
    return file;
  }


  var fileHex = limpiarHexadecimal(archivo, true);
  var filename = 'test.png';

  if (fileHex.length % 2) {
    alert("Error: cleaned hex string length is odd.");
    return;
  }

  var binary = new Array();
  for (var i = 0; i < fileHex.length / 2; i++) {
    var h = fileHex.substr(i * 2, 2);
    binary[i] = parseInt(h, 16);
  }

  var byteArray = new Uint8Array(binary);
  
  var a = window.document.createElement('a');
  console.log(byteArray)
  a.href = window.URL.createObjectURL(new Blob([byteArray], { type: 'application/octet-stream' }));
  a.download = filename;

  document.body.appendChild(a)
  a.click();

  document.body.removeChild(a)
}) 
